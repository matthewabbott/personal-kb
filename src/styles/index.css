/* src/styles/index.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base theme variables */
@layer base {
    :root {
      /* Light theme */
      --color-bg-primary: #f8f3e9;
      --color-bg-secondary: #fff;
      --color-text-primary: #2c1810;
      --color-text-secondary: #6b4d3c;
      --color-border: #d4c5b9;
      --color-accent: #843729;
      --color-accent-hover: #6b2c21;
      --color-error-bg: #f8e6e6;
      --color-error-border: #843729;
      --color-shadow: rgba(0, 0, 0, 0.1);
    }
  
    :root[data-theme="dark"] {
      --color-bg-primary: #1a1614;
      --color-bg-secondary: #252220;
      --color-text-primary: #e6ddd6;
      --color-text-secondary: #b5a396;
      --color-border: #3d332d;
      --color-accent: #c25b4a;
      --color-accent-hover: #d46d5c;
      --color-error-bg: #3d2724;
      --color-error-border: #c25b4a;
      --color-shadow: rgba(0, 0, 0, 0.3);
    }

  body {
    @apply bg-[var(--color-bg-primary)] text-[var(--color-text-primary)];
    font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* Components */
@layer components {
  /* darkmode toggle */
  .theme-toggle {
    @apply fixed top-4 right-4 
            p-2 rounded-full
            bg-[var(--color-bg-secondary)]
            border border-[var(--color-border)]
            text-[var(--color-text-secondary)]
            hover:text-[var(--color-accent)]
            transition-colors
            cursor-pointer;
    }
  /* Layout components */
  .logo {
    @apply h-24 p-6;
    will-change: filter;
    transition: filter 300ms;
  }
  
  .logo:hover {
    filter: drop-shadow(0 0 2em #646cffaa);
  }
  
  .logo.react:hover {
    filter: drop-shadow(0 0 2em #61dafbaa);
  }

  .card {
    @apply bg-[var(--color-bg-secondary)] 
           border border-[var(--color-border)]
           rounded-lg
           transition-shadow
           hover:shadow-md;
  }

  .input-search {
    @apply w-full
           pl-10 pr-4 py-2
           border rounded-lg
           bg-[var(--color-bg-secondary)]
           border-[var(--color-border)]
           text-[var(--color-text-primary)]
           focus:outline-none
           focus:ring-2
           focus:ring-[var(--color-accent)]
           focus:border-transparent;
  }

  /* Markdown components */
  .markdown-container {
    @apply prose max-w-none;
  }

  .markdown-heading-1 {
    @apply text-2xl font-bold mt-6 mb-4 text-[var(--color-text-primary)];
  }

  .markdown-heading-2 {
    @apply text-xl font-bold mt-5 mb-3 text-[var(--color-text-primary)];
  }

  .markdown-code {
    @apply rounded-md;
  }

  .markdown-diagram {
    @apply my-4 flex justify-center;
  }

  /* Language stats components */
  .language-bar {
    @apply h-2 flex gap-0.5 rounded-full overflow-hidden w-64 bg-[var(--color-bg-primary)];
  }

  .language-segment {
    @apply first:rounded-l-full last:rounded-r-full;
  }

  .language-labels {
    @apply mt-2 flex flex-wrap gap-3 text-sm;
  }

  .language-label {
    @apply flex items-center gap-1;
  }

  .language-dot {
    @apply w-3 h-3 rounded-full;
  }

  .language-percentage {
    @apply text-[var(--color-text-secondary)];
  }
}

/* Animations */
@keyframes logo-spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@media (prefers-reduced-motion: no-preference) {
  a:nth-of-type(2) .logo {
    animation: logo-spin infinite 20s linear;
  }
}